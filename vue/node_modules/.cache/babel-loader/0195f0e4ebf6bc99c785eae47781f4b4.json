{"remainingRequest":"C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\86156\\Desktop\\expressProject\\vue\\src\\views\\delivery.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86156\\Desktop\\expressProject\\vue\\src\\views\\delivery.vue","mtime":1658191346977},{"path":"C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349278000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJkZWxpdmVyeSIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHt9LAogICAgICBmb3JtOiB7fSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ1Zpc2libGUxOiBmYWxzZSwKICAgICAgc2VhcmNoOiAnJywKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgdG90YWw6IDAsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHBvc3RhZ2U6IDAKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIHVzZXJTdHIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikgfHwgInt9IjsKICAgIHRoaXMudXNlciA9IEpTT04ucGFyc2UodXNlclN0cik7CiAgICB0aGlzLmxvYWQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXF1ZXN0LmdldCgiL2NhYmluZXQvcXVlcnlFbXB0eUNhYmluZXQiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwYWdlTnVtOiB0aGlzLmN1cnJlbnRQYWdlLAogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsCiAgICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIF90aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhLnJlY29yZHM7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgfSk7CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQobnVtKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZm9ybSA9IHt9OyAvL+a4heepuuihqOWNleWfnwoKICAgICAgdGhpcy5mb3JtLm51bSA9IG51bTsKICAgIH0sCiAgICBzZWFyY2hlZDogZnVuY3Rpb24gc2VhcmNoZWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmVxdWVzdC5nZXQoIi9wb3N0YWdlL3F1ZXJ5UG9zdGFnZS8iICsgdGhpcy5mb3JtLmZyb21XaGVyZSArICIvIiArIHRoaXMuZm9ybS50b1doZXJlICsgIi8iICsgdGhpcy5mb3JtLmNvbXBhbnkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vdGhlbuaYr+S4gOS4qumTvuW8j+aTjeS9nAogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICBfdGhpczIucG9zdGFnZSA9IHJlcy5kYXRhOwogICAgICAgICAgX3RoaXMyLmRpYWxvZ1Zpc2libGUxID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkZWxpdmVyeTogZnVuY3Rpb24gZGVsaXZlcnkoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmVxdWVzdC5nZXQoIi9zZW5kZXhwcmVzcy9hZGQvIiArIHRoaXMudXNlci50ZWwgKyAiLyIgKyB0aGlzLmZvcm0ubnVtICsgIi8iICsgdGhpcy5mb3JtLmZyb21XaGVyZSArICIvIiArIHRoaXMuZm9ybS5mcm9tV2hlcmVEZXRhaWwgKyAiLyIgKyB0aGlzLmZvcm0udG9XaGVyZSArICIvIiArIHRoaXMuZm9ybS50b1doZXJlRGV0YWlsICsgIi8iICsgdGhpcy5mb3JtLmNvbXBhbnkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vdGhlbuaYr+S4gOS4qumTvuW8j+aTjeS9nAogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLlr4Tku7bmiJDlip8iCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczMubG9hZCgpOyAvL+WIt+aWsOihqOagvOaVsOaNrgoKCiAgICAgICAgX3RoaXMzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICBfdGhpczMuZGlhbG9nVmlzaWJsZTEgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShwYWdlU2l6ZSkgewogICAgICAvL+aUueWPmOW9k+WJjeavj+mhteeahOS4quaVsAogICAgICB0aGlzLnBhZ2VTaXplID0gcGFnZVNpemU7CiAgICAgIHRoaXMubG9hZCgpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UocGFnZU51bSkgewogICAgICAvL+aUueWPmOW9k+WJjemhteaVsAogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZU51bTsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\86156\\Desktop\\expressProject\\vue\\src\\views\\delivery.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"padding: 10px\">\r\n    <div style=\"margin: 10px 0\">\r\n\r\n\r\n    <el-table  :data=\"tableData\" stripe border style=\"width: 100%\">\r\n      <el-table-column prop=\"num\" label=\"柜号\" sortable > </el-table-column>\r\n      <el-table-column prop=\"size\" label=\"尺寸\" > </el-table-column>\r\n      <el-table-column prop=\"states\" label=\"状态\"> </el-table-column>\r\n      <el-table-column >\r\n        <template #default=\"scope\">\r\n        <el-button type=\"primary\" @click=\"add(scope.row.num)\">寄件</el-button>\r\n        </template>\r\n      </el-table-column>\r\n\r\n    </el-table>\r\n    </div>\r\n\r\n    <div style=\"margin: 10px 0\" >\r\n      <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"currentPage\"\r\n          :page-sizes=\"[5, 10, 20]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n\r\n      <el-dialog\r\n          title=\"寄件信息\"\r\n          v-model=\"dialogVisible\"\r\n          width=\"30%\">\r\n        <el-form model=\"form\" label-width=\"120px\">\r\n          <el-form-item label=\"起始城市\">\r\n            <el-select v-model=\"form.fromWhere\" placeholder=\"请选择起始城市\">\r\n              <el-option label=\"天津\" value=\"天津\" />\r\n              <el-option label=\"北京\" value=\"北京\" />\r\n              <el-option label=\"重庆\" value=\"重庆\" />\r\n              <el-option label=\"上海\" value=\"上海\" />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"起始地详细地址\">\r\n            <el-input v-model=\"form.fromWhereDetail\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"目的城市\">\r\n            <el-select v-model=\"form.toWhere\" placeholder=\"请选择目的城市\">\r\n              <el-option label=\"天津\" value=\"天津\" />\r\n              <el-option label=\"北京\" value=\"北京\" />\r\n              <el-option label=\"上海\" value=\"上海\" />\r\n              <el-option label=\"重庆\" value=\"重庆\" />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"目的地详细地址\">\r\n            <el-input v-model=\"form.toWhereDetail\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"快递公司\">\r\n            <el-select v-model=\"form.company\" placeholder=\"请选择快递公司\">\r\n              <el-option label=\"顺丰\" value=\"顺丰\" />\r\n              <el-option label=\"中通\" value=\"中通\" />\r\n              <el-option label=\"申通\" value=\"申通\" />\r\n              <el-option label=\"圆通\" value=\"圆通\" />\r\n              <el-option label=\"韵达\" value=\"韵达\" />\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"searched\">寄 件</el-button>\r\n        </span>\r\n        </template>\r\n      </el-dialog>\r\n\r\n      <el-dialog\r\n          title=\"支付\"\r\n          v-model=\"dialogVisible1\"\r\n          width=\"30%\">\r\n        <el-form  label-width=\"120px\">\r\n          <el-form-item label=\"需要支付的邮费:\">\r\n            {{postage}}\r\n          </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible1 = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"delivery\">付 款</el-button>\r\n        </span>\r\n        </template>\r\n      </el-dialog>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: \"delivery\",\r\n  components:{\r\n\r\n  },\r\n  data(){\r\n    return {\r\n      user: {},\r\n      form:{},\r\n      dialogVisible: false,\r\n      dialogVisible1: false,\r\n      search: '',\r\n      currentPage: 1,\r\n      pageSize:10,\r\n      total: 0,\r\n      tableData: [],\r\n      postage: 0\r\n    }\r\n  },\r\n  created(){\r\n    let userStr = sessionStorage.getItem(\"user\") || \"{}\"\r\n    this.user = JSON.parse(userStr)\r\n    this.load()\r\n  },\r\n  methods: {\r\n    load() {\r\n      request.get(\"/cabinet/queryEmptyCabinet\", {\r\n        params: {\r\n          pageNum:this.currentPage,\r\n          pageSize: this.pageSize,\r\n          search: this.search\r\n        }\r\n\r\n      }).then(res => {\r\n        console.log(res)\r\n        this.tableData=res.data.records\r\n        this.total=res.data.total\r\n      })\r\n    },\r\n\r\n    add(num){\r\n      this.dialogVisible=true\r\n      this.form={}//清空表单域\r\n      this.form.num=num\r\n    },\r\n    searched(){\r\n      request.get(\"/postage/queryPostage/\"+this.form.fromWhere+\"/\"+this.form.toWhere+\"/\"+this.form.company).then(res => {\r\n        //then是一个链式操作\r\n        console.log(res)\r\n        if(res.code === '0'){\r\n          this.postage=res.data\r\n          this.dialogVisible1=true\r\n        }else{\r\n          this.$message({\r\n            type: \"error\",\r\n            message: res.msg\r\n          })\r\n        }\r\n      })\r\n    },\r\n    delivery() {\r\n        request.get(\"/sendexpress/add/\"+this.user.tel+\"/\"+this.form.num+\"/\"\r\n            +this.form.fromWhere+\"/\"+this.form.fromWhereDetail+\"/\"+this.form.toWhere+\"/\"+\r\n            this.form.toWhereDetail+\"/\"+this.form.company).then(res => {//then是一个链式操作\r\n          console.log(res)\r\n          if(res.code === '0'){\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"寄件成功\"\r\n            })\r\n          }else{\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.msg\r\n            })\r\n          }\r\n          this.load() //刷新表格数据\r\n          this.dialogVisible=false\r\n          this.dialogVisible1=false\r\n        })\r\n\r\n    },\r\n    handleSizeChange(pageSize) {   //改变当前每页的个数\r\n      this.pageSize=pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum) {   //改变当前页数\r\n      this.currentPage=pageNum\r\n      this.load()\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":""}]}