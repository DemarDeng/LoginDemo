{"remainingRequest":"C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\86156\\Desktop\\expressProject\\vue\\src\\views\\Store.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86156\\Desktop\\expressProject\\vue\\src\\views\\Store.vue","mtime":1638282219059},{"path":"C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\expressProject\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349278000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG1ldGE6IFt7CiAgICBuYW1lOiAncmVmZXJyZXInLAogICAgY29udGVudDogJ25vLXJlZmVycmVyJwogIH1dLAogIG5hbWU6ICJCb29rIiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjoge30sCiAgICAgIGZvcm06IHt9LAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgc2VhcmNoOiAnJywKICAgICAgY2F0ZWdvcnk6ICcnLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogMCwKICAgICAgdGFibGVEYXRhOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgdXNlclN0ciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKSB8fCAie30iOwogICAgdGhpcy51c2VyID0gSlNPTi5wYXJzZSh1c2VyU3RyKTsKICAgIHRoaXMubG9hZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZDogZnVuY3Rpb24gbG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2F0ZWdvcnkpOwogICAgICByZXF1ZXN0LmdldCgiL2Jvb2siLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwYWdlTnVtOiB0aGlzLmN1cnJlbnRQYWdlLAogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsCiAgICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoLAogICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucmVjb3JkczsKICAgICAgICBfdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICB9KTsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmZvcm0uaWRib29rKSB7CiAgICAgICAgLy8g5pu05pawCiAgICAgICAgcmVxdWVzdC5wdXQoIi9ib29rIiwgdGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMCcpIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIuabtOaWsOaIkOWKnyIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczIubG9hZCgpOyAvLyDliLfmlrDooajmoLznmoTmlbDmja4KCgogICAgICAgICAgX3RoaXMyLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsgLy8g5YWz6Zet5by556qXCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5paw5aKeCiAgICAgICAgcmVxdWVzdC5wb3N0KCIvYm9vayIsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICLmlrDlop7miJDlip8iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyLmxvYWQoKTsgLy8g5Yi35paw6KGo5qC855qE5pWw5o2uCgoKICAgICAgICAgIF90aGlzMi5kaWFsb2dWaXNpYmxlID0gZmFsc2U7IC8vIOWFs+mXreW8ueeqlwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZm9ybSA9IHt9OwogICAgfSwKICAgIGJ1eTogZnVuY3Rpb24gYnV5KGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmZvcm0uaWRib29rID0gaXRlbS5pZGJvb2s7CiAgICAgIHRoaXMuZm9ybS51aWQgPSB0aGlzLnVzZXIuaWQ7CiAgICAgIHRoaXMuZm9ybS5udW0gPSAxOwogICAgICByZXF1ZXN0LnBvc3QoIi9mb3JtL2J1eSIsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMCcpIHsKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgbWVzc2FnZTogIui0reS5sOaIkOWKnyIKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzMy5sb2FkKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGJ1eWNhcjogZnVuY3Rpb24gYnV5Y2FyKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLmZvcm0uaWRib29rID0gaXRlbS5pZGJvb2s7CiAgICAgIHRoaXMuZm9ybS51aWQgPSB0aGlzLnVzZXIuaWQ7CiAgICAgIHRoaXMuZm9ybS5udW0gPSAxOwogICAgICByZXF1ZXN0LnBvc3QoIi9mb3JtL2J1eWNhciIsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMCcpIHsKICAgICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgbWVzc2FnZTogIuWKoOWFpei0reeJqei9puaIkOWKnyIKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzNC5sb2FkKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGVkaXRCb29rOiBmdW5jdGlvbiBlZGl0Qm9vayhpdGVtKSB7CiAgICAgIC8v5pS55Y+Y5b2T5YmN5q+P6aG155qE5Liq5pWwCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZm9ybSA9IGl0ZW07CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShwYWdlU2l6ZSkgewogICAgICAvL+aUueWPmOW9k+WJjeavj+mhteeahOS4quaVsAogICAgICB0aGlzLnBhZ2VTaXplID0gcGFnZVNpemU7CiAgICAgIHRoaXMubG9hZCgpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UocGFnZU51bSkgewogICAgICAvL+aUueWPmOW9k+WJjemhteaVsAogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZU51bTsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\86156\\Desktop\\expressProject\\vue\\src\\views\\Store.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"padding: 10px\">\n    <div style=\"padding-bottom:10px\">\n      <el-input v-model=\"search\" placeholder=\"请输入书名\" style=\"width:30%\" clearable></el-input>\n      <el-button type=\"primary\" style=\"margin-left:5px\" @click=\"load\">搜索</el-button>\n      <el-button type=\"primary\" style=\"margin-left:5px\" @click=\"add\" v-if=\"this.user.id===1\">添加</el-button>\n    </div>\n    <div>\n      <el-radio v-model=\"category\" label=\"全部分类\">全部分类</el-radio>\n      <el-radio v-model=\"category\" label=\"教育\">教育</el-radio>\n      <el-radio v-model=\"category\" label=\"艺术\">艺术</el-radio>\n      <el-radio v-model=\"category\" label=\"生活\">生活</el-radio>\n      <el-radio v-model=\"category\" label=\"其他\">其他</el-radio>\n    </div>\n  <el-space alignment=\"start\" :size=\"15\" v-for=\"item in this.tableData\"\n            :key=\"item\">\n      <el-card :body-style=\"{ padding: '0px' ,width: '100%'}\"  >\n        <img style=\"width:300px;height:350px\"\n            :src=\"item.picture\"\n            class=\"image\"/>\n        <div style=\"padding: 14px\">\n          <span class=\"demonstration\" style=\"font-family:楷体;font-size: 20px;font-color:#606266\">书名：{{ item.bookname }} 价格：{{item.price}}元</span>\n          <div class=\"bottom\" style=\"margin-top: 10px\">\n            <el-popconfirm\n                confirm-button-text=\"Yes\"\n                cancel-button-text=\"No\"\n                icon=\"el-icon-info\"\n                title=\"你确定要直接购买此书?\"\n                @confirm=\"buy(item)\"\n                v-if=\"this.user.id!==1\"\n            >\n              <template #reference>\n              <el-button type=\"danger\" size=\"medium\" class=\"button\" >购买</el-button>\n              </template>\n            </el-popconfirm>\n            <el-button type=\"warning\" size=\"medium\" class=\"button\"\n                         style=\"float:right\" @click=\"buycar(item)\" v-if=\"this.user.id!==1\">加入购物车</el-button>\n            <el-button type=\"warning\" size=\"medium\" class=\"button\"\n                       style=\"float:right\" @click=\"editBook(item)\" v-if=\"this.user.id===1\">编辑</el-button>\n          </div>\n        </div>\n      </el-card>\n  </el-space>\n    <el-dialog title=\"提示\" v-model=\"dialogVisible\" width=\"30%\">\n      <el-form :model=\"form\" label-width=\"120px\">\n        <el-form-item label=\"书籍名\">\n          <el-input v-model=\"form.bookname\" style=\"width: 80%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"价格\">\n          <el-input v-model=\"form.price\" style=\"width: 80%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"库存\">\n          <el-input v-model=\"form.stock\" style=\"width: 80%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"类别\">\n          <el-input v-model=\"form.category\" style=\"width: 80%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"图片\">\n          <el-input type=\"textarea\" autosize placeholder=\"请输入内容\" v-model=\"form.picture\" style=\"width: 80%\"></el-input>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n          <span class=\"dialog-footer\">\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"save\">确 定</el-button>\n          </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  meta: [\n    { name: 'referrer', content: 'no-referrer' }\n  ],\n\n  name: \"Book\",\n  components:{\n\n  },\n\n  data(){\n    return {\n      user: {},\n      form:{},\n      dialogVisible: false,\n      search: '',\n      category:'',\n      currentPage: 1,\n      pageSize:10,\n      total: 0,\n      tableData: []\n    }\n  },\n  created(){\n    let userStr = sessionStorage.getItem(\"user\") || \"{}\"\n    this.user = JSON.parse(userStr)\n    this.load()\n  },\n  methods: {\n    load() {\n      console.log(this.category)\n      request.get(\"/book\", {\n        params: {\n          pageNum:this.currentPage,\n          pageSize: this.pageSize,\n          search: this.search,\n          category:this.category\n        }\n\n      }).then(res => {\n        console.log(res)\n        this.tableData=res.data.records\n        this.total=res.data.total\n      })\n    },\n    save() {\n      if (this.form.idbook) {  // 更新\n        request.put(\"/book\", this.form).then(res => {\n          console.log(res)\n          if (res.code === '0') {\n            this.$message({\n              type: \"success\",\n              message: \"更新成功\"\n            })\n          } else {\n            this.$message({\n              type: \"error\",\n              message: res.msg\n            })\n          }\n          this.load() // 刷新表格的数据\n          this.dialogVisible = false  // 关闭弹窗\n        })\n      } else {  // 新增\n        request.post(\"/book\", this.form).then(res => {\n          console.log(res)\n          if (res.code === '0') {\n            this.$message({\n              type: \"success\",\n              message: \"新增成功\"\n            })\n          } else {\n            this.$message({\n              type: \"error\",\n              message: res.msg\n            })\n          }\n\n          this.load() // 刷新表格的数据\n          this.dialogVisible = false  // 关闭弹窗\n        })\n      }\n\n    },\n    add(){\n      this.dialogVisible = true\n      this.form = {}\n    },\n\n    buy(item){\n      this.form.idbook=item.idbook\n      this.form.uid=this.user.id\n      this.form.num=1\n      request.post(\"/form/buy\",this.form).then(res => {\n            if(res.code === '0'){\n              this.$message({\n                type: \"success\",\n                message: \"购买成功\"\n              })\n            }else{\n              this.$message({\n                type: \"error\",\n                message: res.msg\n              })\n            }\n            this.load()\n          }\n      )\n    },\n    buycar(item)\n    {\n      this.form.idbook=item.idbook\n      this.form.uid=this.user.id\n      this.form.num=1\n      request.post(\"/form/buycar\",this.form).then(res => {\n            if(res.code === '0'){\n              this.$message({\n                type: \"success\",\n                message: \"加入购物车成功\"\n              })\n            }else{\n              this.$message({\n                type: \"error\",\n                message: res.msg\n              })\n            }\n            this.load()\n          }\n      )\n    },\n    editBook(item) {   //改变当前每页的个数\n      this.dialogVisible = true\n      this.form=item\n    },\n    handleSizeChange(pageSize) {   //改变当前每页的个数\n      this.pageSize=pageSize\n      this.load()\n    },\n    handleCurrentChange(pageNum) {   //改变当前页数\n      this.currentPage=pageNum\n      this.load()\n    }\n\n\n  }\n\n\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}